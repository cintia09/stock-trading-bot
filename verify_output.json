{
  "timestamp": "2026-02-16T16:48:23.715337",
  "total": 1,
  "passed": 0,
  "failed": 1,
  "skipped": 0,
  "results": [
    {
      "id": "h-20260216-01",
      "action": "在run_trading_cycle的单只再平衡后，增加总仓位超限自动减仓逻辑：当总仓位>max_total_position时，按持仓占比从高到低逐只减仓，每只减到目标仓位为止",
      "5why_root": "仓位管理缺自动化：max_total_position=0.5参数已有，但无自动减仓触发。总仓位超限时只阻断买入，不主动卖出减仓",
      "passed": false,
      "reason": "多周期: 0/3通过 (需≥2); 滚动窗口: 0/3通过 (需>1)",
      "before": {
        "total_return": 0.008914,
        "annual_return": 0.0575018490643564,
        "max_drawdown": 0.01797810852169167,
        "win_rate": 0.5,
        "profit_factor": 1.4186968430157132,
        "sharpe_ratio": 0.46730874941214356,
        "total_trades": 24,
        "label": "baseline_60d",
        "period_days": 60,
        "start_date": "2025-12-18",
        "end_date": "2026-02-16",
        "timestamp": "2026-02-16T16:47:38.086497"
      },
      "after": {
        "total_return": 0.008914,
        "annual_return": 0.0575018490643564,
        "max_drawdown": 0.01797810852169167,
        "win_rate": 0.5,
        "profit_factor": 1.4186968430157132,
        "sharpe_ratio": 0.46730874941214356,
        "total_trades": 24,
        "label": "after_patch_60d",
        "period_days": 60,
        "start_date": "2025-12-18",
        "end_date": "2026-02-16",
        "timestamp": "2026-02-16T16:48:05.955235"
      },
      "period_passed": false,
      "period_reason": "多周期: 0/3通过 (需≥2)",
      "period_detail": {
        "30d": {
          "passed": false,
          "reason": "胜率(33.3%→33.3%)和年化(-0.7%→-0.7%)均无明显提升",
          "before": {
            "total_return": -0.000532,
            "annual_return": -0.006682555435749027,
            "max_drawdown": 0.014748968431028015,
            "win_rate": 0.3333333333333333,
            "profit_factor": 1.2031425364758703,
            "sharpe_ratio": -0.5127307097508974,
            "total_trades": 10,
            "label": "baseline_30d",
            "period_days": 30,
            "start_date": "2026-01-17",
            "end_date": "2026-02-16",
            "timestamp": "2026-02-16T16:47:33.522433"
          },
          "after": {
            "total_return": -0.000532,
            "annual_return": -0.006682555435749027,
            "max_drawdown": 0.014748968431028015,
            "win_rate": 0.3333333333333333,
            "profit_factor": 1.2031425364758703,
            "sharpe_ratio": -0.5127307097508974,
            "total_trades": 10,
            "label": "after_patch_30d",
            "period_days": 30,
            "start_date": "2026-01-17",
            "end_date": "2026-02-16",
            "timestamp": "2026-02-16T16:48:01.245166"
          }
        },
        "60d": {
          "passed": false,
          "reason": "胜率(50.0%→50.0%)和年化(5.8%→5.8%)均无明显提升",
          "before": {
            "total_return": 0.008914,
            "annual_return": 0.0575018490643564,
            "max_drawdown": 0.01797810852169167,
            "win_rate": 0.5,
            "profit_factor": 1.4186968430157132,
            "sharpe_ratio": 0.46730874941214356,
            "total_trades": 24,
            "label": "baseline_60d",
            "period_days": 60,
            "start_date": "2025-12-18",
            "end_date": "2026-02-16",
            "timestamp": "2026-02-16T16:47:38.086497"
          },
          "after": {
            "total_return": 0.008914,
            "annual_return": 0.0575018490643564,
            "max_drawdown": 0.01797810852169167,
            "win_rate": 0.5,
            "profit_factor": 1.4186968430157132,
            "sharpe_ratio": 0.46730874941214356,
            "total_trades": 24,
            "label": "after_patch_60d",
            "period_days": 60,
            "start_date": "2025-12-18",
            "end_date": "2026-02-16",
            "timestamp": "2026-02-16T16:48:05.955235"
          }
        },
        "120d": {
          "passed": false,
          "reason": "胜率(57.9%→57.9%)和年化(8.6%→8.6%)均无明显提升",
          "before": {
            "total_return": 0.027523,
            "annual_return": 0.08592756241029442,
            "max_drawdown": 0.014537915351861917,
            "win_rate": 0.5789473684210527,
            "profit_factor": 1.679212507237986,
            "sharpe_ratio": 1.0018875346691762,
            "total_trades": 42,
            "label": "baseline_120d",
            "period_days": 120,
            "start_date": "2025-10-19",
            "end_date": "2026-02-16",
            "timestamp": "2026-02-16T16:47:42.427034"
          },
          "after": {
            "total_return": 0.027523,
            "annual_return": 0.08592756241029442,
            "max_drawdown": 0.014537915351861917,
            "win_rate": 0.5789473684210527,
            "profit_factor": 1.679212507237986,
            "sharpe_ratio": 1.0018875346691762,
            "total_trades": 42,
            "label": "after_patch_120d",
            "period_days": 120,
            "start_date": "2025-10-19",
            "end_date": "2026-02-16",
            "timestamp": "2026-02-16T16:48:10.498374"
          }
        }
      },
      "window_passed": false,
      "window_reason": "滚动窗口: 0/3通过 (需>1)",
      "window_detail": [
        {
          "window": 1,
          "passed": false,
          "reason": "胜率(50.0%→50.0%)和年化(5.8%→5.8%)均无明显提升",
          "before": {
            "total_return": 0.008914,
            "annual_return": 0.0575018490643564,
            "max_drawdown": 0.01797810852169167,
            "win_rate": 0.5,
            "profit_factor": 1.4186968430157132,
            "sharpe_ratio": 0.46730874941214356,
            "total_trades": 24,
            "label": "baseline_w1_1218-0216",
            "period_days": 60,
            "start_date": "2025-12-18",
            "end_date": "2026-02-16",
            "timestamp": "2026-02-16T16:47:46.861928",
            "window": 1,
            "window_start": "2025-12-18",
            "window_end": "2026-02-16"
          },
          "after": {
            "total_return": 0.008914,
            "annual_return": 0.0575018490643564,
            "max_drawdown": 0.01797810852169167,
            "win_rate": 0.5,
            "profit_factor": 1.4186968430157132,
            "sharpe_ratio": 0.46730874941214356,
            "total_trades": 24,
            "label": "after_patch_w1_1218-0216",
            "period_days": 60,
            "start_date": "2025-12-18",
            "end_date": "2026-02-16",
            "timestamp": "2026-02-16T16:48:15.046659",
            "window": 1,
            "window_start": "2025-12-18",
            "window_end": "2026-02-16"
          }
        },
        {
          "window": 2,
          "passed": false,
          "reason": "胜率(62.5%→62.5%)和年化(9.9%→9.9%)均无明显提升",
          "before": {
            "total_return": 0.016681,
            "annual_return": 0.09938239699767326,
            "max_drawdown": 0.013616711311621787,
            "win_rate": 0.625,
            "profit_factor": 1.7541925647941832,
            "sharpe_ratio": 1.503378901646149,
            "total_trades": 19,
            "label": "baseline_w2_1019-1218",
            "period_days": 60,
            "start_date": "2025-10-19",
            "end_date": "2025-12-18",
            "timestamp": "2026-02-16T16:47:51.669885",
            "window": 2,
            "window_start": "2025-10-19",
            "window_end": "2025-12-18"
          },
          "after": {
            "total_return": 0.016681,
            "annual_return": 0.09938239699767326,
            "max_drawdown": 0.013616711311621787,
            "win_rate": 0.625,
            "profit_factor": 1.7541925647941832,
            "sharpe_ratio": 1.503378901646149,
            "total_trades": 19,
            "label": "after_patch_w2_1019-1218",
            "period_days": 60,
            "start_date": "2025-10-19",
            "end_date": "2025-12-18",
            "timestamp": "2026-02-16T16:48:19.392599",
            "window": 2,
            "window_start": "2025-10-19",
            "window_end": "2025-12-18"
          }
        },
        {
          "window": 3,
          "passed": false,
          "reason": "胜率(46.7%→46.7%)和年化(14.2%→14.2%)均无明显提升",
          "before": {
            "total_return": 0.019678,
            "annual_return": 0.1419319592682209,
            "max_drawdown": 0.02524664460121569,
            "win_rate": 0.4666666666666667,
            "profit_factor": 1.3221430081285188,
            "sharpe_ratio": 1.08204703241597,
            "total_trades": 32,
            "label": "baseline_w3_0820-1019",
            "period_days": 60,
            "start_date": "2025-08-20",
            "end_date": "2025-10-19",
            "timestamp": "2026-02-16T16:47:56.323357",
            "window": 3,
            "window_start": "2025-08-20",
            "window_end": "2025-10-19"
          },
          "after": {
            "total_return": 0.019678,
            "annual_return": 0.1419319592682209,
            "max_drawdown": 0.02524664460121569,
            "win_rate": 0.4666666666666667,
            "profit_factor": 1.3221430081285188,
            "sharpe_ratio": 1.08204703241597,
            "total_trades": 32,
            "label": "after_patch_w3_0820-1019",
            "period_days": 60,
            "start_date": "2025-08-20",
            "end_date": "2025-10-19",
            "timestamp": "2026-02-16T16:48:23.712620",
            "window": 3,
            "window_start": "2025-08-20",
            "window_end": "2025-10-19"
          }
        }
      ]
    }
  ]
}